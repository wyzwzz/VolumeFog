## 局部体积雾的实现

## 局部体积雾的数据模型
体数据一般是规格的网格，因此有一个代理几何体，一般是一个AABB，为了表示任意的变换，可以额外存储变换矩阵model

为了表示一个局部体需要如下信息：
局部体的UID（因为包围盒可能会重叠）、包围盒信息（位置和大小）、体数据（即最后存储在三维纹理）

1.填充froxel
根据每一个froxel格子的中心位置，遍历视锥体内所有的体包围盒，如果相交，
那么计算出偏移量后查询虚拟纹理，通过虚拟采样将属性累加到格子属性中。
以及对全局雾的属性进行采样并累加，因为全局雾是通过一张fog map和三位噪声纹理实现，
fog map中存储的是density，需要转换到散射系数和湮灭系数。

2.更新clip map
首先计算出每一帧当前clip map的中心，然后只更新当前clip map元素中不再上一帧clip map中的部分，三维固定大小的滑动窗口。

3.计算cluster light
类似于tile based，只不过每一个格子存储光源的数量和起始index的偏移，
根据这两个信息查出每个光源的index，再去真正的light array中查出光源真正的属性。

4.计算froxel




